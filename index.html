<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intesa Vincente Simulator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap');

        body {
            margin: 0;
            padding: 0;
            /* Sfondo verde per eventuale Chroma Key (OBS) o nero */
            background-color: #000; 
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-end; /* Posiziona la barra in basso */
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
        }

        /* Contenitore principale della barra */
        .game-bar {
            margin-bottom: 50px;
            display: flex;
            align-items: center;
            gap: 15px;
            transform: scale(1.2); /* Rende tutto un po' più grande */
        }

        /* Stile comune per le caselle blu */
        .box {
            background: linear-gradient(180deg, #2ebfec 0%, #007cc2 50%, #005a9e 100%);
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5), inset 0 2px 5px rgba(255,255,255,0.4);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid #5dcfff;
            position: relative;
        }

        /* Effetto lucido (riflesso) nella parte superiore */
        .box::after {
            content: '';
            position: absolute;
            top: 0;
            left: 2%;
            width: 96%;
            height: 45%;
            background: linear-gradient(180deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.1) 100%);
            border-radius: 15px 15px 50% 50% / 15px 15px 10px 10px;
        }

        /* Contatore Punti (Sinistra) */
        .score-box {
            width: 100px;
            height: 80px;
            font-size: 3rem;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
            border-top-left-radius: 40px;
            border-bottom-left-radius: 40px;
        }

        /* Parola Centrale */
        .word-box {
            width: 600px;
            height: 100px;
            font-size: 3.5rem;
            font-weight: 900;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            text-transform: uppercase;
            letter-spacing: 2px;
            z-index: 10; /* Per stare leggermente sopra se necessario */
        }

        /* Timer (Destra) */
        .timer-box {
            width: 120px;
            height: 80px;
            font-size: 3rem;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
            border-top-right-radius: 40px;
            border-bottom-right-radius: 40px;
        }

        /* Istruzioni nascoste per l'operatore */
        .controls-hint {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #555;
            font-size: 0.8rem;
            font-family: monospace;
            background: rgba(255,255,255,0.9);
            padding: 10px;
            border-radius: 5px;
            opacity: 0.2;
            transition: opacity 0.3s;
        }
        .controls-hint:hover {
            opacity: 1;
        }
    </style>
</head>
<body>

    <div class="controls-hint">
        <b>COMANDI TASTIERA:</b><br>
        SPAZIO: Start/Pausa Timer<br>
        INVIO: Parola Indovinata (+1 Punto)<br>
        BACKSPACE/ESC: Passo (Nuova parola)<br>
        FRECCIA SU/GIÙ: Correggi Punteggio<br>
        R: Reset Gioco<br>
        H: Nascondi/Mostra Parola
    </div>

    <div class="game-bar">
        <div class="box score-box" id="score">0</div>
        
        <div class="box word-box" id="word">PRONTO?</div>
        
        <div class="box timer-box" id="timer">:60</div>
    </div>

    <script>
        // --- CONFIGURAZIONE ---
        const GAME_DURATION = 60; // Secondi
        const wordsList = [
            "CASA", "MARE", "SOLE", "GATTO", "PIZZA", "AMORE", "FIORE", 
            "LIBRO", "TRENO", "NOTTE", "CUORE", "GIOCO", "PANCA", "MELA",
            "SOGNO", "TERRA", "FUOCO", "ACQUA", "MONTE", "BIANCO"
        ]; // Aggiungi qui le tue parole o usa un generatore

        // --- STATO ---
        let score = 0;
        let timeLeft = GAME_DURATION;
        let timerInterval = null;
        let isRunning = false;
        let currentWordIndex = 0;

        // --- ELEMENTI DOM ---
        const scoreEl = document.getElementById('score');
        const timerEl = document.getElementById('timer');
        const wordEl = document.getElementById('word');

        // --- LOGICA ---

        function updateDisplay() {
            scoreEl.innerText = score;
            // Formatta il timer come :SS
            timerEl.innerText = ":" + (timeLeft < 10 ? "0" + timeLeft : timeLeft);
        }

        function nextWord() {
            // Sceglie una parola a caso o sequenziale
            // Per ora sequenziale ciclico:
            // currentWordIndex = (currentWordIndex + 1) % wordsList.length;
            // wordEl.innerText = wordsList[currentWordIndex];
            
            // Oppure Random:
            const randomWord = wordsList[Math.floor(Math.random() * wordsList.length)];
            wordEl.innerText = randomWord;
        }

        function startTimer() {
            if (isRunning) return;
            isRunning = true;
            nextWord(); // Mostra la prima parola
            timerInterval = setInterval(() => {
                timeLeft--;
                updateDisplay();

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    wordEl.innerText = "STOP!";
                    isRunning = false;
                    // Suono di fine (opzionale)
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            wordEl.innerText = "PAUSA";
        }

        function resetGame() {
            pauseTimer();
            score = 0;
            timeLeft = GAME_DURATION;
            wordEl.innerText = "PRONTO?";
            updateDisplay();
        }

        // --- CONTROLLI TASTIERA ---
        document.addEventListener('keydown', (e) => {
            switch(e.code) {
                case 'Space': // Start / Pausa
                    if (isRunning) pauseTimer();
                    else startTimer();
                    break;
                
                case 'Enter': // Indovinata
                    if (!isRunning && timeLeft > 0) startTimer();
                    if (isRunning) {
                        score++;
                        scoreEl.style.transform = "scale(1.2)"; // Animazione pop
                        setTimeout(() => scoreEl.style.transform = "scale(1)", 200);
                        nextWord();
                        updateDisplay();
                    }
                    break;

                case 'Backspace': // Passo / Errore
                case 'Escape':
                    if (isRunning) {
                        // In alcune versioni si perde un punto, qui facciamo solo "Passo"
                        // score--; 
                        wordEl.style.opacity = "0";
                        setTimeout(() => {
                            nextWord();
                            wordEl.style.opacity = "1";
                        }, 100);
                        updateDisplay();
                    }
                    break;

                case 'ArrowUp': // Correggi punteggio +
                    score++;
                    updateDisplay();
                    break;

                case 'ArrowDown': // Correggi punteggio -
                    score--;
                    updateDisplay();
                    break;

                case 'KeyR': // Reset
                    resetGame();
                    break;
                
                case 'KeyH': // Nascondi parola (utile se vuoi fare suspance)
                    wordEl.innerText = wordEl.innerText === "???" ? wordsList[currentWordIndex] : "???";
                    break;
            }
        });

        // Inizializza
        updateDisplay();
    </script>
</body>
</html>